<?php declare(strict_types=1); require_once __DIR__ . '/../lib/db.php'; require_once __DIR__ . '/partials/_helpers.php'; $slug=trim((string)($_GET['slug']??'')); if($slug===''){ include __DIR__.'/404.php'; exit; } $st=db()->prepare('SELECT * FROM pages WHERE slug=:slug AND is_published=1 LIMIT 1'); $st->execute([':slug'=>$slug]); $p=$st->fetch(PDO::FETCH_ASSOC); if(!is_array($p)){ include __DIR__.'/404.php'; exit; } $pageTitle=(string)($p['meta_title']?:$p['title']); $pageDescription=(string)($p['meta_description']?:''); include __DIR__.'/partials/header.php'; include __DIR__.'/partials/nav_search.php'; echo '<div class="layout">'; include __DIR__.'/partials/sidebar.php'; echo '<main class="main-content"><section class="block"><h1 class="section-title">'.e((string)$p['title']).'</h1>'.$p['content'].'</section></main></div>'; include __DIR__.'/partials/footer.php';
