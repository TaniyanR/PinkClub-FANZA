<?php declare(strict_types=1); require_once __DIR__ . '/_bootstrap.php'; require_once __DIR__ . '/../../lib/app_features.php'; function e(string $v): string { return htmlspecialchars($v, ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML5, 'UTF-8'); } $msg=''; if(($_SERVER['REQUEST_METHOD']??'GET')==='POST' && csrf_verify((string)($_POST['_token']??''))){app_setting_set_many(['site_name'=>trim((string)$_POST['site_name']),'logo_url'=>trim((string)$_POST['logo_url']),'theme_color'=>trim((string)$_POST['theme_color']),'footer_text'=>trim((string)$_POST['footer_text']),'ogp_default_image'=>trim((string)$_POST['ogp_default_image'])]);$msg='保存しました';}
$pageTitle='デザイン設定'; ob_start();?><h1>デザイン設定</h1><?php if($msg!==''): ?><div class="admin-card"><?php echo e($msg); ?></div><?php endif; ?><form class="admin-card" method="post"><input type="hidden" name="_token" value="<?php echo e(csrf_token()); ?>"><label>サイト名</label><input name="site_name" value="<?php echo e((string)app_setting_get('site_name','')); ?>"><label>ロゴURL</label><input name="logo_url" value="<?php echo e((string)app_setting_get('logo_url','')); ?>"><label>テーマ色</label><input name="theme_color" value="<?php echo e((string)app_setting_get('theme_color','')); ?>"><label>フッタ文言</label><input name="footer_text" value="<?php echo e((string)app_setting_get('footer_text','')); ?>"><label>OGPデフォ画像URL</label><input name="ogp_default_image" value="<?php echo e((string)app_setting_get('ogp_default_image','')); ?>"><button>保存</button></form><?php $content=(string)ob_get_clean(); include __DIR__.'/../partials/admin_layout.php';
