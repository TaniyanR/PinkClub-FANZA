(function(){function p(c){return typeof c==='string'?document.getElementById(c):c}function m(a){var b=0;for(var i=0;i<a.length;i++){var n=Number(a[i]);if(n>b)b=n}return b}function d(ctx,w,h,pad){ctx.strokeStyle='#dcdcde';ctx.lineWidth=1;ctx.beginPath();ctx.moveTo(pad,pad);ctx.lineTo(pad,h-pad);ctx.lineTo(w-pad,h-pad);ctx.stroke()}function y(v,max,h,pad){return h-pad-((max>0?v/max:0)*(h-pad*2))}function Chart(el,cfg){var cv=p(el);if(!cv||!cv.getContext)return;var t=(cfg&&cfg.type)||'line',data=(cfg&&cfg.data)||{},labels=data.labels||[],sets=data.datasets||[],ctx=cv.getContext('2d'),w=cv.width||cv.clientWidth||960,h=cv.height||320,pad=28;ctx.clearRect(0,0,w,h);d(ctx,w,h,pad);var all=[];for(var s=0;s<sets.length;s++){all=all.concat((sets[s]&&sets[s].data)||[])}var max=Math.max(1,m(all));if(t==='bar'){var gw=(w-pad*2)/Math.max(1,labels.length),bw=Math.max(2,gw/(sets.length+1));for(var i=0;i<labels.length;i++){for(var j=0;j<sets.length;j++){var ds=sets[j]||{},val=Number((ds.data||[])[i]||0),x=pad+i*gw+j*(bw+2)+1,bh=((max>0?val/max:0)*(h-pad*2));ctx.fillStyle=ds.backgroundColor||'#2271b1';ctx.fillRect(x,h-pad-bh,bw,bh)}}}else{var sx=(w-pad*2)/Math.max(1,labels.length-1);for(var j=0;j<sets.length;j++){var ds=sets[j]||{},vals=ds.data||[];ctx.strokeStyle=ds.borderColor||'#2271b1';ctx.lineWidth=2;ctx.beginPath();for(var i=0;i<vals.length;i++){var x=pad+i*sx,yy=y(Number(vals[i]||0),max,h,pad);if(i===0)ctx.moveTo(x,yy);else ctx.lineTo(x,yy)}ctx.stroke()}}ctx.fillStyle='#1d2327';ctx.font='12px sans-serif';for(var j=0;j<sets.length;j++){var ds=sets[j]||{},lx=pad+j*70;ctx.fillStyle=ds.borderColor||ds.backgroundColor||'#2271b1';ctx.fillRect(lx,6,12,8);ctx.fillStyle='#1d2327';ctx.fillText(ds.label||('Series '+(j+1)),lx+16,14)}}window.Chart=Chart})();
